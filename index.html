<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>letter maker</title>
    <link rel="icon" href="https://hong630.github.io/letter-maker/images/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="icon" href="https://hong630.github.io/letter-maker/images/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bitcount+Prop+Single+Ink:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/suneditor@latest/dist/css/suneditor.min.css">
</head>
<body>
    <div class="wrap show" id="first_step">
        <h1>letter maker</h1>
        <div class="main-content-container">
            <div class="content-container">
                <div class="title-box">
                    <p>편지쓰기 ✉︎</p>
                    <button class="btn-refresh" onclick="refreshText()">
                        <svg viewBox="0 0 512 512">
                            <path d="M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z">
                            </path>
                        </svg>
                    </button>
                </div>
                <div id="editor_container" class="editor-container"></div>
            </div>
            <div class="content-container">
                <label class="img-upload-label" for="bgUpload">
                    <svg viewBox="0 0 640 512">
                        <path d="M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z">
                        </path>
                    </svg>
                    <p id="fileName">편지지로 쓰고싶은 이미지를 업로드해주세요 ♡̄̈</p>
                </label>
                <input id="bgUpload" type="file" accept=".png,.jpg,.jpeg" style="display:none;" />
            </div>
            <div>
                <button class="btn-step" onclick="goNext()">다음 단계  ⇢ </button>
            </div>
        </div>
    </div>
    <div class="wrap" id="second_step">
        <h1>letter maker</h1>
        <div class="main-content-container step-2">
            <div class="content-container">
                <ul class="letter-options">
                    <li>
                        <span class="title">❤︎ Opacity</span>
                        <label>
                            <input id="opacity" type="range" min="0" max="1" step="0.01" value="1">
                            <span id="val">0.5</span>
                        </label>
                    </li>
                    <li>
                        <span class="title">☘︎ Font</span>
                        <select id="fontSelect" class="select" aria-label="폰트 선택">
                            <option value="" disabled selected>선택해주세요</option>
                            <option value="'Noto Sans KR', sans-serif">Noto Sans KR</option>
                            <option value="'Noto Serif KR', serif">Noto Serif KR</option>
                            <option value="'Gothic A1', sans-serif">Gothic A1</option>
                            <option value="'Jua', sans-serif">Jua</option>
                            <option value="'Dongle', sans-serif">Dongle</option>
                            <option value="'Hahmlet', serif">Hahmlet</option>
                            <option value="'Hi Melody', cursive">Hi Melody</option>
                            <option value="'Gamja Flower', cursive">Gamja Flower</option>
                            <option value="'Poor Story', cursive">Poor Story</option>
                            <option value="'Orbit', sans-serif">Orbit</option>
                        </select>
                    </li>
                    <li>
                        <span class="title">♫ Size</span>
                        <div class="size-container">
                            <label>
                                <span>width :</span>
                                <input id="widthRange" type="range" min="200" max="500" value="200">
                                <span id="widthVal">200</span>px
                            </label>
                            <label>
                                <span>height :</span>
                                <input id="heightRange" type="range" min="200" max="800" value="300">
                                <span id="heightVal">300</span>px
                            </label>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="content-container result">
                <div class="result">
                    <!--<button class="btn-letter">
                        <svg viewBox="0 0 320 512">
                            <path d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z">
                            </path>
                        </svg>
                    </button>-->
                    <div id="letterArea" class="result-letter">
                        <div id="letterBackground" class="letter-background"></div>
                        <div id="editorContent" class="sun-editor-editable letter-text-area">
                            <!-- 여기에 SunEditor에서 받은 innerHTML 들어감 -->
                        </div>
                    </div>
                    <!--<button class="btn-letter">
                        <svg viewBox="0 0 320 512">
                            <path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z">
                            </path>
                        </svg>
                    </button>-->
                </div>
                <!--TODO 너무 많은 텍스트를 썼을 때 넘침 예외처리 필요 -->
                <!--<p class="pagination">1/5</p> -->
            </div>
            <div class="button-container">
                <button class="btn-step" onclick="saveImg()">이미지 저장하기 ✉︎</button>
                <button class="btn-step" onclick="goPrev()">⇠ 이전 단계</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/suneditor@latest/dist/suneditor.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/suneditor@latest/src/lang/ko.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="main.js"></script>
</body>
</html>